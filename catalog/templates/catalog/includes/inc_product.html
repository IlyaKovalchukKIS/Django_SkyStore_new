{% load static %}
{% load my_tags %}

<link rel="stylesheet" type="text/css" href="{% static 'css/card.fix.css' %}">
<div class="container col-5 text-center">
    <div class="card mb-3 rounded-3 shadow-sm">
        <div class="card-header py-3">
            <h4 class="my-0 fw-normal">{{ object.name }}</h4>
        </div>
        <div class="card-body">
            <img src="{{ object.preview | my_media }}" width="150" height="100" class="img-fluid"/>
            <ul class="list-unstyled mt-3 mb-4">
                <li>{{ object.description|slice:':50' }}...</li>
            </ul>
            <div class="card-body">
                <h6>Номер версии: {% if object.is_active %}
                    {{ object.version }}
                    {% else %}
                    нет информации
                    {% endif %}</h6>
                <h6>Название версии: {% if object.is_active %}
                    {{ object.name_version }}
                    {% else %}
                    нет информации
                    {% endif %}</h6>

            </div>
            <a type="button" class="w-100 btn btn-lg btn-primary mt-3 mb-4">Купить за {{ object.price}} руб.</a>
        </div>
        {% if user.is_authenticated %}
        <footer>
            <div class="card-footer">
                <div class="product-buttons">
                    <a href="{% url 'catalog:product_view' object.pk %}" class="btn btn-success">Посмотреть</a>
                    <a href="{% url 'catalog:product_edit' object.pk %}" class="btn btn-success">Редактировать</a>
                    <a href="{% url 'catalog:product_delete' object.pk %}" class="btn btn-success">Удалить</a>
                </div>
            </div>
        </footer>
        {% else %}
        {% endif %}
    </div>
</div>